<div class="sidebar" [class.collapsed]="isCollapsed">
  <!-- Sidebar Navigation -->
  <div class="flex-grow-1 p-2">
    <ul class="nav flex-column">
      <li class="nav-item mb-1">
        <a class="nav-link text-white d-flex align-items-center p-2 rounded" routerLink="/dashboard" routerLinkActive="active-link">
          <i class="bi bi-speedometer2 fs-5 me-2 nav-icon"></i>
          <span class="nav-text">Dashboard</span>
        </a>
      </li>

      <li class="nav-item mb-1">
        <a class="nav-link text-white d-flex align-items-center p-2 rounded" routerLink="/users" routerLinkActive="active-link">
          <i class="bi bi-people fs-5 me-2 nav-icon"></i>
          <span class="nav-text">User Management</span>
        </a>
      </li>

      <li class="nav-item mb-1">
        <a class="nav-link text-white d-flex align-items-center p-2 rounded" routerLink="/analytics" routerLinkActive="active-link">
          <i class="bi bi-bar-chart fs-5 me-2 nav-icon"></i>
          <span class="nav-text">Analytics</span>
        </a>
      </li>

      <li class="nav-item mb-1">
        <a class="nav-link text-white d-flex align-items-center p-2 rounded" routerLink="/audit-logs" routerLinkActive="active-link">
          <i class="bi bi-list-check fs-5 me-2 nav-icon"></i>
          <span class="nav-text">Audit Logs</span>
        </a>
      </li>

      <li class="nav-item mb-1">
        <a class="nav-link text-white d-flex align-items-center p-2 rounded" 
           routerLink="/template" 
           routerLinkActive="active-link"
           (click)="onTemplateClick()">
          <i class="bi bi-file-earmark-text fs-5 me-2 nav-icon"></i>
          <span class="nav-text">Templates</span>
        </a>
      </li>
    </ul>
  </div>

  <!-- User Info at Bottom -->
  <div class="p-2 border-top border-white border-opacity-25 user-info" *ngIf="!isCollapsed">
    <div class="d-flex align-items-center bg-white bg-opacity-10 rounded p-2">
      <div class="rounded-circle me-2 d-flex align-items-center justify-content-center bg-primary text-white fw-bold" 
           style="width: 36px; height: 36px; font-size: 16px; flex-shrink: 0;">
        {{ userName.charAt(0).toUpperCase() }}
      </div>
      <div class="text-white flex-grow-1 overflow-hidden">
        <div class="fw-semibold small text-truncate" style="font-size: 12px;">{{ userName }}</div>
        <div class="small opacity-75">
          <span class="badge bg-white bg-opacity-25 px-2 py-1" style="font-size: 9px;">{{ userRole }}</span>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Collapsed user icon -->
  <div class="p-2 border-top border-white border-opacity-25 text-center" *ngIf="isCollapsed">
    <div class="rounded-circle mx-auto d-flex align-items-center justify-content-center bg-primary text-white fw-bold" 
         style="width: 36px; height: 36px; font-size: 16px;">
      {{ userName.charAt(0).toUpperCase() }}
    </div>
  </div>
</div>

<style>
  .active-link {
    background-color: rgba(255, 255, 255, 0.2) !important;
    font-weight: 600;
  }
  .nav-link:hover {
    background-color: rgba(255, 255, 255, 0.1);
  }
</style>
